---
## Front matter
title: "Отчет по лабораторной работе №7:"
subtitle: "Командная оболочка Midnight Commander"
author: "Федорова Наталия Артемовна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Sans
romanfont: PT Sans
sansfont: PT Sans
monofont: PT Sans
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Освоение основных возможностей командной оболочки Midnight Commander. Приобретение навыков практической работы по просмотру каталогов и файлов, манипуляций с ними.

# Задание

**Задание по mc**

1. Изучите информацию о mc, вызвав в командной строке man mc.

2. Запустите из командной строки mc, изучите его структуру и меню.

3. Выполните несколько операций в mc, используя управляющие клавиши (операции с панелями; выделение/отмена выделения файлов, копирование/перемещение файлов, получение информации о размере и правах доступа на файлы и/или каталоги и т.п.)

4. Выполните основные команды меню левой (или правой) панели. Оцените степень подробности вывода информации о файлах.

5. Используя возможности подменю Файл , выполните:

- просмотр содержимого текстового файла;

- редактирование содержимого текстового файла (без сохранения результатов редактирования);

- создание каталога;

- копирование в файлов в созданный каталог.

6. С помощью соответствующих средств подменю Команда осуществите:

- поиск в файловой системе файла с заданными условиями (например, файла с расширением .c или .cpp, содержащего строку main);

- выбор и повторение одной из предыдущих команд;

- переход в домашний каталог;

- анализ файла меню и файла расширений.

7. Вызовите подменю Настройки . Освойте операции, определяющие структуру экрана mc (Full screen, Double Width, Show Hidden Files и т.д.)

**Задание по встроенному редактору mc**

1. Создайте текстовой файл text.txt.

2. Откройте этот файл с помощью встроенного в mc редактора.

3. Вставьте в открытый файл небольшой фрагмент текста, скопированный из любого другого файла или Интернета.

4. Проделайте с текстом следующие манипуляции, используя горячие клавиши:

- Удалите строку текста.

- Выделите фрагмент текста и скопируйте его на новую строку.

- Выделите фрагмент текста и перенесите его на новую строку.

- Сохраните файл.

- Отмените последнее действие.

- Перейдите в конец файла (нажав комбинацию клавиш) и напишите некоторый текст.

- Перейдите в начало файла (нажав комбинацию клавиш) и напишите некоторый текст.

- Сохраните и закройте файл.


# Теоретическое введение

З*Командная оболочка* — интерфейс взаимодействия пользователя с операционной системой и программным обеспечением посредством команд.

*Midnight Commander (или mc)* — псевдографическая командная оболочка для UNIX/Linux систем. Для запуска mc необходимо в командной строке набрать mc и нажать Enter.

Рабочее пространство mc имеет две панели, отображающие по умолчанию списки файлов двух каталогов.
  
Над панелями располагается меню, доступ к которому осуществляется с помощью клавиши F9. Под панелями внизу расположены управляющие экранные кнопки, ассоциированные с функциональными клавишами F1 – F10. Над ними располагается командная строка, предназначенная для ввода команд.

**Функциональные клавиши mc**

* F1 - Вызов контекстно-зависимой подсказки

* F2 -  Вызов пользовательского меню с возможностью создания и/или дополнения дополнительных функций

* F3 - Просмотр содержимого файла, на который указывает подсветка в активной панели (без возможности редактирования)

* F4 - Вызов встроенного в mc редактора для изменения содержания файла, на который указывает подсветка в активной панели

* F5 - Копирование одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели

* F6 - Перенос одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели

* F7 - Создание подкаталога в каталоге, отображаемом в активной панели

* F8 - Удаление одного или нескольких файлов (каталогов), отмеченных в первой (активной) панели файлов

* F9 - Вызов меню mc

* F10 - Выход из mc 

# Выполнение лабораторной работы

**Выполним задания по mc**

1. Для начала изучаю информацию о **mc** с помощью команды `man mc` (рис. [-@fig:001]).

![Информация о mc](image/l7-1.png ){#fig:001 width=100%}

2. Далее изучаю структуру mc командой `mc` (рис. [-@fig:002]).

![Открытие mc](image/l7-2.png ){#fig:002 width=100%}

3. Выполняю несколько операций в mc, используя управляющие клавиши.

Для управления меню mc использую клавишу F9, переключаться между вкладками можно благодаря стрелкам на клавиатуре, если необходимо что-то выбрать, то использую Enter (рис. [-@fig:003]).
    
![Управление меню mc](image/l7-3.png ){#fig:003 width=100%}

Комбинация Ctrl-x + c позволяет просмотреть права доступа к файлу, смотрю так права для каталога work (рис. [-@fig:004]).
    
![Права доступа](image/l7-4.png ){#fig:004 width=100%}

Для копирования файла или каталога использую клавишу F5, если необходимо перенести, то использую F6 (рис. [-@fig:005]).

![Копирование](image/l7-5.png ){#fig:005 width=100%}

4. Выполняю основные команды меню правой панели. Если в правой панели выбрать пункт "Информация", то справа будет отображаться вся информация о каталоге или файле (рис. [-@fig:006]).
    
![Информация на правой панеле](image/l7-6.png ){#fig:006 width=100%}

5. Использую возможности подменю "Файл".

Для просмотра файла использую клавишу F3. Для выхода из файла - F10 (рис. [-@fig:007]).
    
![Просмотр файла](image/l7-7.png){#fig:007 width=100%}

Для редактирования файла нажимаю F4, редактирую строчку, а после с помощью F10 выхожу, не сохраняя результат (рис. [-@fig:008]).
    
![Редактирование файла](image/l7-8.png ){#fig:008 width=100%}

Чтобы создать новый каталог, выбираю на левой панели, где хочу создать каталог, после нажимаю F7 (рис. [-@fig:009]).
    
![Создание каталога](image/l7-9.png ){#fig:009 width=100%}

Копирую текстовый файл в только что созданный каталог с помощью клавиши F5 (рис. [-@fig:010]).
    
![Копирование файла](image/l7-10.png ){#fig:010 width=100%}

6. С помощью соответствующих средств подменю "Команда" осуществляю: 

Нахожу файл с расширением .cpp, содержащего строку main. Для этого перехожу в подменю "Команда" -> "Поиск файлов", ввожу необходимые данные и смотрю. В моем случае таких файлов нет (рис. [-@fig:011]) (рис. [-@fig:012]).

![Поиск файла](image/l7-11.png ){#fig:011 width=100%}
    
![Результаты поиска](image/l7-12.png ){#fig:012 width=100%}

С помощью "Дерево каталога" перехожу в домашний каталог (рис. [-@fig:013]).

![Переход в домашний каталог](image/l7-13.png ){#fig:013 width=100%}

Анализирую файл меню (рис. [-@fig:014]).

![Анализ файла меню](image/l7-14.png ){#fig:014 width=100%}

А также файл расширений (рис. [-@fig:015]).

![Анализ файла расширений](image/l7-15.png ){#fig:015 width=100%}

7. Вызываю подменю "Настройки" и осваиваю операции, определяющие структуру экрана mc.

Настройки внешнего вида панелей (рис. [-@fig:016]).

![Внешний вид](image/l7-16.png ){#fig:016 width=100%}

Настройки панелей (рис. [-@fig:017]).

![Настройки панели](image/l7-17.png ){#fig:017 width=100%}

Конфигурация (рис. [-@fig:018]).

![Конфигурация](image/l7-18.png ){#fig:018 width=100%}

**Выполняю задания по встроенному редактору mc**

1. Создадаю новый файл text.txt в ранее созданном каталоге. Для этого в командой строке внизу использую команду `touch text.txt` (рис. [-@fig:019]).

![Создание файла](image/l7-19.png ){#fig:019 width=100%}

2-3. Открываю этот файл клавишей F4 и вставляю текст из интернета комбинацией клавишей Ctrl + Shift + V (рис. [-@fig:020]).

![Редактирование файла](image/l7-20.png ){#fig:020 width=100%}

4. Проделываю с текстом следующие манипуляции, используя горячие клавиши.

- Удаляю строку текста: выделяю строку и нажимаю F8 (рис. [-@fig:021]) (рис. [-@fig:022]).

![Удаление строки](image/l7-21.png ){#fig:021 width=100%}

![Результат удаления строки](image/l7-22.png ){#fig:022 width=100%}

- Выделяю фрагмент текста и копирую его на новую строку: выделяю текст, перемещаю курсор на другое место и использую клавишу F5 (рис. [-@fig:023]).

![Копирование строки](image/l7-23.png ){#fig:023 width=100%}

- Выделяю фрагмент текста и переношу его на новую строку: выделяю текст, перемещаю курсор на другое место и использую клавишу F6 (рис. [-@fig:024]).

![Перемещение текста](image/l7-24.png ){#fig:024 width=100%}

- Cохраняю файл: для этого использую клавишу F2 (рис. [-@fig:025]).

![Сохранение файла](image/l7-25.png ){#fig:025 width=100%}

- Отменяю последнее действие: для этого использую комбинацию клавиш Ctrl + U (рис. [-@fig:026]).

![Отмена последнего действия](image/l7-26.png ){#fig:026 width=100%}

- Перехожу в конец файла (либо с помощью стрелок, либо комбинацией Ctrl + End) и пишю некоторый текст. Также перехожу в начало файла (стрелками или комбинацией Ctrl + Home) и также записываю некоторый текст (рис. [-@fig:027])

![Изменение содержания текста](image/l7-27.png ){#fig:027 width=100%}

- Сохраняю и закрываю файл: использую клавишу F10 (рис. [-@fig:028]).

![Сохранение и закрытие файла](image/l7-28.png ){#fig:028 width=100%}

# Контрольные вопросы

1. **Какие режимы работы есть в mc. Охарактеризуйте их.**

- **Просмотр файлов (View)**: Позволяет просматривать содержимое файлов без возможности их редактирования.
- **Редактирование файлов (Edit)**: В этом режиме можно открывать и редактировать текстовые файлы с помощью встроенного текстового редактора.
- **Копирование файлов (Copy)**: Позволяет копировать файлы и директории из одной части файловой системы в другую.
- **Перемещение файлов (Move)**: Используется для перемещения файлов и директорий в пределах файловой системы.
   
2. **Какие операции с файлами можно выполнить как с помощью команд shell, так и с помощью меню (комбинаций клавиш) mc?**

- **Копирование**: Можно скопировать файл или директорию с помощью команды `cp` в shell или используя комбинацию клавиш F5 в mc.
- **Перемещение**: Файлы и директории можно переместить с помощью команды `mv` в shell или используя комбинацию клавиш F6 в mc.
- **Удаление**: Файлы и директории можно удалить с помощью команды `rm` в shell или используя комбинацию клавиш F8 в mc.
   
3. **Опишите структура меню левой (или правой) панели mc, дайте характеристику командам.**

- **Панель навигации**: Позволяет перемещаться по файловой системе.
- **Команды над файлами**: Позволяют выполнять операции над выделенными файлами, такие как копирование, перемещение, удаление.
- **Сортировка и фильтрация**: Позволяет изменить порядок отображения файлов и использовать фильтры для отображения определенных файлов.
   
4. **Опишите структура меню Файл mc, дайте характеристику командам.**

- **Открыть файл**: Позволяет открыть выбранный файл для просмотра или редактирования.
- **Создать директорию**: Создает новую директорию в текущей рабочей директории.
- **Удалить**: Удаляет выбранный файл или директорию.
- **Копировать**: Копирует выбранный файл или директорию.
- **Переместить**: Перемещает выбранный файл или директорию.

5. **Опишите структура меню Команда mc, дайте характеристику командам.**

- **Выполнить команду**: Позволяет пользователю выполнить произвольную команду в командной оболочке.
   
6. **Опишите структура меню Настройки mc, дайте характеристику командам.**

- **Панель**: Позволяет настроить отображение панелей и их поведение.
- **Редактор**: Настройки связанные с встроенным текстовым редактором.
- **Цвета**: Позволяет настроить цветовую схему mc.
- **Интерфейс**: Настройки интерфейса пользователя.
   
7. **Назовите и дайте характеристику встроенным командам mc.**

- **cd**: Изменяет текущий каталог.
- **mkdir**: Создает новый каталог.
- **rm**: Удаляет файлы или каталоги.
   
8. **Назовите и дайте характеристику командам встроенного редактора mc.**

- **Открыть**: Позволяет открыть файл для редактирования.
- **Сохранить**: Сохраняет изменения в файле.
- **Выход**: Закрывает редактор и возвращает в основное окно Midnight Commander.
   
9. **Дайте характеристику средствам mc, которые позволяют создавать меню, определяемые пользователем.**

**Пользовательские команды (User Menu)** позволяют пользователю создавать собственные команды и меню для выполнения часто используемых задач. Это обеспечивает гибкость в управлении файлами и выполнении операций.
   
10. **Дайте характеристику средствам mc, которые позволяют выполнять действия, определяемые пользователем, над текущим файлом.**

**Внешние команды (External Panelize)** позволяют пользователю запускать внешние программы или скрипты для выполнения специфических действий над текущим файлом или набором файлов. Это может включать в себя произвольные операции, определенные пользователем, такие как архивирование, обработка или другие пользовательские задачи.

# Выводы

В данной лабораторной работе я освоила основные возможности командной оболочки Midnight Commander, а также приобрела навыки практической работы по просмотру каталогов и файлов и манипуляций с ними.

::: {#refs}
:::
